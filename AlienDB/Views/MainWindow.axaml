<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:AlienDB.ViewModels"
        x:Class="AlienDB.Views.MainWindow"
        Width="900" Height="600"
        Title="Alien Universe Database"
        x:DataType="vm:MainWindowViewModel">

    <Window.DataContext>
        <vm:MainWindowViewModel/>
    </Window.DataContext>

    <StackPanel Margin="20" Spacing="20" Orientation="Vertical">
        <TextBlock Text="Baza filmów Alien Universe" FontSize="20" Margin="0,0,0,10"/>

        <Grid ColumnDefinitions="2*,3*" RowDefinitions="Auto,Auto">
            <!-- Lista filmów -->
            <ListBox ItemsSource="{Binding Filmy}" SelectedItem="{Binding SelectedFilm}" Height="200">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <TextBlock Text="{Binding TytulPolski}" />
                            <TextBlock Text=" (" />
                            <TextBlock Text="{Binding Gatunek}" />
                            <TextBlock Text=")" />
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

            <!-- Dodaj / Usuń -->
            <StackPanel Grid.Row="1" Orientation="Horizontal" Spacing="10">
                <Button Content="Dodaj film" Command="{Binding AddFilmCommand}"/>
                <Button Content="Usuń film" Command="{Binding RemoveFilmCommand}"/>
            </StackPanel>

            <!-- Szczegóły filmu -->
            <StackPanel Grid.Column="1" Grid.Row="0" Margin="10" Spacing="10">
                <TextBlock Text="Szczegóły filmu:" FontWeight="Bold" FontSize="18"/>
                <TextBlock Text="{Binding SelectedFilm.TytulPolski}" FontWeight="Bold"/>
                <TextBlock Text="{Binding SelectedFilm.TytulOryginalny}" />
                <TextBlock Text="{Binding SelectedFilm.Rezyser}" />
                <TextBlock Text="{Binding SelectedFilm.Gatunek}" />
                <TextBlock Text="{Binding SelectedFilm.CzasTrwania}" />
                <ProgressBar Minimum="0" Maximum="10" Value="{Binding SelectedFilm.Ocena}" Height="20"/>

                <!-- Lista postaci z filtrowaniem -->
                <TextBlock Text="Postacie:" FontWeight="Bold" FontSize="16"/>
                <ComboBox ItemsSource="{Binding Rasy}" SelectedItem="{Binding SelectedRasa}" Width="200"/>
                <ListBox ItemsSource="{Binding PrzefiltrowanePostacie}" Height="150">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Spacing="5">
                                <TextBlock Text="{Binding ImieNazwisko}" />
                                <TextBlock Text=" - "/>
                                <TextBlock Text="{Binding Rola}" />
                                <TextBlock Text=" (" />
                                <TextBlock Text="{Binding Rasa}" />
                                <TextBlock Text=")"/>
                            </StackPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </StackPanel>
        </Grid>
    </StackPanel>
</Window>
